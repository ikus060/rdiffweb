{% for message, level in get_flashed_messages() %}
  <div class="alert alert-{{'danger' if level == 'error' else level }} alert-dismissible"
       role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {% for line in (message|string).split('\n') %}
      {{ line }}
      {% if not loop.last %}<br/>{% endif %}
    {% endfor %}
  </div>
{% endfor %}
{% if success %}
  <div class="alert alert-success alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <strong>{% trans %}Well done!{% endtrans %}</strong> {{ success }}
  </div>
{% endif %}
{% if message %}
  <div class="alert alert-info alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ message }}
  </div>
{% endif %}
{% if warning %}
  <div class="alert alert-warning alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ warning }}
  </div>
{% endif %}
{% if error %}
  <div class="alert alert-danger alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ error }}
  </div>
{% endif %}
